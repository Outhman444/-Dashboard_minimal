{% extends 'base.html.twig' %}

{% block title %}Modifier une catégorie{% endblock %}

{% block body %}
<style>
    form{width:50%;margin-top:20px}
    .titre{color:#101317;margin:0;padding:0;font-weight:bold;font-size:2rem}
    label{display:block;font-weight:bold;margin-bottom:5px}
    input[type="text"],textarea{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;background-color:#fff;box-sizing:border-box;height:45px;font-family:inherit}
    textarea{min-height:100px;resize:vertical;padding:12px 16px;height:auto}
    .submit-btn{background-color:#353b44;color:#fff;padding:12px 24px;border:none;border-radius:4px;font-size:15px;font-weight:bold;cursor:pointer;transition:background-color .2s;margin-top:20px;display:block;width:100px;float:right}
    .submit-btn:hover{background-color:#24282dff}
    .flash-success{color:green;margin-bottom:15px}
    .flash-error{color:red;margin-bottom:15px}
    .row{display:flex;gap:20px;margin-bottom:15px}
    .row>div{flex:1}
</style>

<h1 class="titre">Modifier la catégorie</h1>

{% for message in app.flashes('success') %}
    <div class="flash-success">{{ message }}</div>
{% endfor %}
{% for message in app.flashes('error') %}
    <div class="flash-error">{{ message }}</div>
{% endfor %}

<form action="{{ path('categorie_edit', {'id': categorie.id}) }}" method="POST">
    <input type="hidden" name="_method" value="PUT">

    <div class="row">
        <div>
            <label for="nom">Nom :</label>
            <input type="text" id="nom" name="nom" required value="{{ categorie.nom }}">
            {% if errors.nom is defined %}
                <div style="color:red; font-size: 0.9em;">{{ errors.nom[0] }}</div>
            {% endif %}
        </div>
    </div>

    <div class="row">
        <div>
            <label for="description">Description :</label>
            <textarea id="description" name="description">{{ categorie.description }}</textarea>
            {% if errors.description is defined %}
                <div style="color:red; font-size: 0.9em;">{{ errors.description[0] }}</div>
            {% endif %}
        </div>
    </div>

    <input type="hidden" name="status" value="{{ categorie.status ? 1 : 0 }}">

    <button class="submit-btn" type="submit">Modifier</button>
</form>
{% endblock %}
